<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia at 2015-04-10 -->
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>Apache Hadoop 2.7.0 &#x2013; YARN Timeline Server</title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
        <meta name="Date-Revision-yyyymmdd" content="20150410" />
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      </head>
  <body class="composite">
    <div id="banner">
                  <a href="https://hadoop.apache.org/" id="bannerLeft">
                                        <img src="https://hadoop.apache.org/images/hadoop-logo.jpg" alt="" />
                </a>
                        <a href="https://www.apache.org/" id="bannerRight">
                                        <img src="https://www.apache.org/images/asf_logo_wide.png" alt="" />
                </a>
            <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
                                <div class="xleft">
                          <a href="https://www.apache.org/" class="externalLink">Apache</a>
                &gt;
                      <a href="https://hadoop.apache.org/" class="externalLink">Hadoop</a>
                &gt;
                      <a href="../">hadoop-yarn</a>
                &gt;
                Apache Hadoop 2.7.0
                </div>
            <div class="xright">            <a href="https://wiki.apache.org/hadoop" class="externalLink">Wiki</a>
            |
                <a href="https://git-wip-us.apache.org/repos/asf/hadoop.git" class="externalLink">git</a>
            |
                <a href="https://hadoop.apache.org/" class="externalLink">Apache Hadoop</a>
              
                                &nbsp;| Last Published: 2015-04-10
              &nbsp;| Version: 2.7.0
            </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
                                                <h5>General</h5>
                  <ul>
                  <li class="none">
                  <a href="../../index.html">Overview</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/SingleCluster.html">Single Node Setup</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/ClusterSetup.html">Cluster Setup</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/CommandsManual.html">Hadoop Commands Reference</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/FileSystemShell.html">FileSystem Shell</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/Compatibility.html">Hadoop Compatibility</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/InterfaceClassification.html">Interface Classification</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/filesystem/index.html">FileSystem Specification</a>
            </li>
          </ul>
                       <h5>Common</h5>
                  <ul>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/CLIMiniCluster.html">CLI Mini Cluster</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/NativeLibraries.html">Native Libraries</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/Superusers.html">Proxy User</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/RackAwareness.html">Rack Awareness</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/SecureMode.html">Secure Mode</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/ServiceLevelAuth.html">Service Level Authorization</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/HttpAuthentication.html">HTTP Authentication</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-kms/index.html">Hadoop KMS</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/Tracing.html">Tracing</a>
            </li>
          </ul>
                       <h5>HDFS</h5>
                  <ul>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/HdfsUserGuide.html">HDFS User Guide</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/HDFSCommands.html">HDFS Commands Reference</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/HDFSHighAvailabilityWithQJM.html">High Availability With QJM</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/HDFSHighAvailabilityWithNFS.html">High Availability With NFS</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/Federation.html">Federation</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/ViewFs.html">ViewFs Guide</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/HdfsSnapshots.html">HDFS Snapshots</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/HdfsDesign.html">HDFS Architecture</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/HdfsEditsViewer.html">Edits Viewer</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/HdfsImageViewer.html">Image Viewer</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/HdfsPermissionsGuide.html">Permissions and HDFS</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/HdfsQuotaAdminGuide.html">Quotas and HDFS</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/Hftp.html">HFTP</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/LibHdfs.html">C API libhdfs</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/WebHDFS.html">WebHDFS REST API</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-hdfs-httpfs/index.html">HttpFS Gateway</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/ShortCircuitLocalReads.html">Short Circuit Local Reads</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/CentralizedCacheManagement.html">Centralized Cache Management</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/HdfsNfsGateway.html">HDFS NFS Gateway</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/HdfsRollingUpgrade.html">HDFS Rolling Upgrade</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/ExtendedAttributes.html">Extended Attributes</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/TransparentEncryption.html">Transparent Encryption</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/HdfsMultihoming.html">HDFS Support for Multihoming</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/ArchivalStorage.html">Archival Storage, SSD & Memory</a>
            </li>
          </ul>
                       <h5>MapReduce</h5>
                  <ul>
                  <li class="none">
                  <a href="../../hadoop-mapreduce-client/hadoop-mapreduce-client-core/MapReduceTutorial.html">MapReduce Tutorial</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-mapreduce-client/hadoop-mapreduce-client-core/MapredCommands.html">MapReduce Commands Reference</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-mapreduce-client/hadoop-mapreduce-client-core/MapReduce_Compatibility_Hadoop1_Hadoop2.html">Compatibilty between Hadoop 1.x and Hadoop 2.x</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-mapreduce-client/hadoop-mapreduce-client-core/EncryptedShuffle.html">Encrypted Shuffle</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-mapreduce-client/hadoop-mapreduce-client-core/PluggableShuffleAndPluggableSort.html">Pluggable Shuffle/Sort</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-mapreduce-client/hadoop-mapreduce-client-core/DistributedCacheDeploy.html">Distributed Cache Deploy</a>
            </li>
          </ul>
                       <h5>MapReduce REST APIs</h5>
                  <ul>
                  <li class="none">
                  <a href="../../hadoop-mapreduce-client/hadoop-mapreduce-client-core/MapredAppMasterRest.html">MR Application Master</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-mapreduce-client/hadoop-mapreduce-client-hs/HistoryServerRest.html">MR History Server</a>
            </li>
          </ul>
                       <h5>YARN</h5>
                  <ul>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/index.html">Overview</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/YARN.html">YARN Architecture</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/CapacityScheduler.html">Capacity Scheduler</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/FairScheduler.html">Fair Scheduler</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/ResourceManagerRestart.html">ResourceManager Restart</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/ResourceManagerHA.html">ResourceManager HA</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/WebApplicationProxy.html">Web Application Proxy</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/TimelineServer.html">YARN Timeline Server</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/WritingYarnApplications.html">Writing YARN Applications</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/YarnCommands.html">YARN Commands</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/NodeManagerRestart.html">NodeManager Restart</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/DockerContainerExecutor.html">DockerContainerExecutor</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/NodeManagerCgroups.html">Using CGroups</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/SecureContainer.html">Secure Containers</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/registry/index.html">Registry</a>
            </li>
          </ul>
                       <h5>YARN REST APIs</h5>
                  <ul>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/WebServicesIntro.html">Introduction</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/ResourceManagerRest.html">Resource Manager</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/NodeManagerRest.html">Node Manager</a>
            </li>
          </ul>
                       <h5>Hadoop Compatible File Systems</h5>
                  <ul>
                  <li class="none">
                  <a href="../../hadoop-aws/tools/hadoop-aws/index.html">Amazon S3</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-azure/index.html">Azure Blob Storage</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-openstack/index.html">OpenStack Swift</a>
            </li>
          </ul>
                       <h5>Auth</h5>
                  <ul>
                  <li class="none">
                  <a href="../../hadoop-auth/index.html">Overview</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-auth/Examples.html">Examples</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-auth/Configuration.html">Configuration</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-auth/BuildingIt.html">Building</a>
            </li>
          </ul>
                       <h5>Tools</h5>
                  <ul>
                  <li class="none">
                  <a href="../../hadoop-streaming/HadoopStreaming.html">Hadoop Streaming</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-archives/HadoopArchives.html">Hadoop Archives</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-distcp/DistCp.html">DistCp</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-gridmix/GridMix.html">GridMix</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-rumen/Rumen.html">Rumen</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-sls/SchedulerLoadSimulator.html">Scheduler Load Simulator</a>
            </li>
          </ul>
                       <h5>Reference</h5>
                  <ul>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/releasenotes.html">Release Notes</a>
            </li>
                  <li class="none">
                  <a href="../../api/index.html">API docs</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/CHANGES.txt">Common CHANGES.txt</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/CHANGES.txt">HDFS CHANGES.txt</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-mapreduce/CHANGES.txt">MapReduce CHANGES.txt</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-yarn/CHANGES.txt">YARN CHANGES.txt</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/Metrics.html">Metrics</a>
            </li>
          </ul>
                       <h5>Configuration</h5>
                  <ul>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/core-default.xml">core-default.xml</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/hdfs-default.xml">hdfs-default.xml</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-mapreduce-client/hadoop-mapreduce-client-core/mapred-default.xml">mapred-default.xml</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-common/yarn-default.xml">yarn-default.xml</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/DeprecatedProperties.html">Deprecated Properties</a>
            </li>
          </ul>
                                 <a href="https://maven.apache.org/" title="Built by Maven" class="poweredBy">
          <img alt="Built by Maven" src="./images/logos/maven-feather.png"/>
        </a>
                       
                            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <!-- -
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

   https://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License. See accompanying LICENSE file. --><h1>YARN Timeline Server</h1>

<ul>
  
<li><a href="#Overview">Overview</a>
  
<ul>
    
<li><a href="#Introduction">Introduction</a></li>
    
<li><a href="#Current_Status">Current Status</a></li>
    
<li><a href="#Timeline_Structure">Timeline Structure</a></li>
  </ul></li>
  
<li><a href="#Deployment">Deployment</a>
  
<ul>
    
<li><a href="#Configurations">Configurations</a></li>
    
<li><a href="#Running_Timeline_server">Running Timeline server</a></li>
    
<li><a href="#Accessing_generic-data_via_command-line">Accessing generic-data via command-line</a></li>
  </ul></li>
  
<li><a href="#Publishing_of_application_specific_data">Publishing of application specific data</a></li>
</ul>
<div class="section">
<h2><a name="Overview"></a>Overview</h2>
<div class="section">
<h3><a name="Introduction"></a>Introduction</h3>
<p>Storage and retrieval of application&#x2019;s current as well as historic information in a generic fashion is solved in YARN through the Timeline Server. This serves two responsibilities:</p>
<div class="section">
<h4><a name="Application_specific_information"></a>Application specific information</h4>
<p>Supports collection of information completely specific to an application or framework. For example, Hadoop MapReduce framework can include pieces of information like number of map tasks, reduce tasks, counters etc. Application developers can publish the specific information to the Timeline server via TimelineClient, the ApplicationMaster and/or the application&#x2019;s containers. This information is then queryable via REST APIs for rendering by application/framework specific UIs.</p></div>
<div class="section">
<h4><a name="Generic_information_about_completed_applications"></a>Generic information about completed applications</h4>
<p>Previously this was done by Application History Server but with timeline server its just one use case of Timeline server functionality. Generic information includes application level data like queue-name, user information etc in the ApplicationSubmissionContext, list of application-attempts that ran for an application, information about each application-attempt, list of containers run under each application-attempt, and information about each container. Generic data is published by ResourceManager to the timeline store and used by the web-UI to display information about completed applications.</p></div></div>
<div class="section">
<h3><a name="Current_Status"></a>Current Status</h3>
<p>The essential functionality of the timeline server have been completed and it can work in both secure and non secure modes. The generic history service is also built on timeline store. In subsequent releases we will be rolling out next generation timeline service which is scalable and reliable. Currently, Application specific information is only available via RESTful APIs using JSON type content. The ability to install framework specific UIs in YARN is not supported yet.</p></div>
<div class="section">
<h3><a name="Timeline_Structure"></a>Timeline Structure</h3>
<p><img src="./images/timeline_structure.jpg" alt="Timeline Structure" /></p>
<div class="section">
<h4><a name="TimelineDomain"></a>TimelineDomain</h4>
<p>Domain is like namespace for Timeline server and users can host multiple entities, isolating them from others. Timeline server Security is defined at this level. Domain majorly stores owner info, read &amp; write ACL information, created and modified time stamp information. Domain is uniquely identified by ID.</p></div>
<div class="section">
<h4><a name="TimelineEntity"></a>TimelineEntity</h4>
<p>Entity contains the the meta information of some conceptual entity and its related events. The entity can be an application, an application attempt, a container or whatever the user-defined object. It contains Primary filters which will be used to index the entities in TimelineStore, such that users should carefully choose the information they want to store as the primary filters. The remaining data can be stored as other information. Entity is uniquely identified by EntityId and EntityType.</p></div>
<div class="section">
<h4><a name="TimelineEvent"></a>TimelineEvent</h4>
<p>TimelineEvent contains the information of an event that is related to some conceptual entity of an application. Users are free to define what the event means, such as starting an application, getting allocated a container and etc.</p></div></div></div>
<div class="section">
<h2><a name="Deployment"></a>Deployment</h2>
<div class="section">
<h3><a name="Configurations"></a>Configurations</h3>
<div class="section">
<h4><a name="Basic_Configuration"></a>Basic Configuration</h4>

<table border="0" class="bodyTable">
  <thead>
    
<tr class="a">
      
<th align="left">Configuration Property </th>
      
<th align="left">Description </th>
    </tr>
  </thead>
  <tbody>
    
<tr class="b">
      
<td align="left"><tt>yarn.timeline-service.enabled</tt> </td>
      
<td align="left">Indicate to clients whether Timeline service is enabled or not. If enabled, the TimelineClient library used by end-users will post entities and events to the Timeline server. Defaults to false. </td>
    </tr>
    
<tr class="a">
      
<td align="left"><tt>yarn.resourcemanager.system-metrics-publisher.enabled</tt> </td>
      
<td align="left">The setting that controls whether yarn system metrics is published on the timeline server or not by RM. Defaults to false. </td>
    </tr>
    
<tr class="b">
      
<td align="left"><tt>yarn.timeline-service.generic-application-history.enabled</tt> </td>
      
<td align="left">Indicate to clients whether to query generic application data from timeline history-service or not. If not enabled then application data is queried only from Resource Manager. Defaults to false. </td>
    </tr>
  </tbody>
</table></div>
<div class="section">
<h4><a name="Advanced_configuration"></a>Advanced configuration</h4>

<table border="0" class="bodyTable">
  <thead>
    
<tr class="a">
      
<th align="left">Configuration Property </th>
      
<th align="left">Description </th>
    </tr>
  </thead>
  <tbody>
    
<tr class="b">
      
<td align="left"><tt>yarn.timeline-service.ttl-enable</tt> </td>
      
<td align="left">Enable age off of timeline store data. Defaults to true. </td>
    </tr>
    
<tr class="a">
      
<td align="left"><tt>yarn.timeline-service.ttl-ms</tt> </td>
      
<td align="left">Time to live for timeline store data in milliseconds. Defaults to 604800000 (7 days). </td>
    </tr>
    
<tr class="b">
      
<td align="left"><tt>yarn.timeline-service.handler-thread-count</tt> </td>
      
<td align="left">Handler thread count to serve the client RPC requests. Defaults to 10. </td>
    </tr>
    
<tr class="a">
      
<td align="left"><tt>yarn.timeline-service.client.max-retries</tt> </td>
      
<td align="left">Default maximum number of retires for timeline servive client. Defaults to 30. </td>
    </tr>
    
<tr class="b">
      
<td align="left"><tt>yarn.timeline-service.client.retry-interval-ms</tt> </td>
      
<td align="left">Default retry time interval for timeline servive client. Defaults to 1000. </td>
    </tr>
  </tbody>
</table></div>
<div class="section">
<h4><a name="Timeline_store_and_state_store_configuration"></a>Timeline store and state store configuration</h4>

<table border="0" class="bodyTable">
  <thead>
    
<tr class="a">
      
<th align="left">Configuration Property </th>
      
<th align="left">Description </th>
    </tr>
  </thead>
  <tbody>
    
<tr class="b">
      
<td align="left"><tt>yarn.timeline-service.store-class</tt> </td>
      
<td align="left">Store class name for timeline store. Defaults to org.apache.hadoop.yarn.server.timeline.LeveldbTimelineStore. </td>
    </tr>
    
<tr class="a">
      
<td align="left"><tt>yarn.timeline-service.leveldb-timeline-store.path</tt> </td>
      
<td align="left">Store file name for leveldb timeline store. Defaults to ${hadoop.tmp.dir}/yarn/timeline. </td>
    </tr>
    
<tr class="b">
      
<td align="left"><tt>yarn.timeline-service.leveldb-timeline-store.ttl-interval-ms</tt> </td>
      
<td align="left">Length of time to wait between deletion cycles of leveldb timeline store in milliseconds. Defaults to 300000. </td>
    </tr>
    
<tr class="a">
      
<td align="left"><tt>yarn.timeline-service.leveldb-timeline-store.read-cache-size</tt> </td>
      
<td align="left">Size of read cache for uncompressed blocks for leveldb timeline store in bytes. Defaults to 104857600. </td>
    </tr>
    
<tr class="b">
      
<td align="left"><tt>yarn.timeline-service.leveldb-timeline-store.start-time-read-cache-size</tt> </td>
      
<td align="left">Size of cache for recently read entity start times for leveldb timeline store in number of entities. Defaults to 10000. </td>
    </tr>
    
<tr class="a">
      
<td align="left"><tt>yarn.timeline-service.leveldb-timeline-store.start-time-write-cache-size</tt> </td>
      
<td align="left">Size of cache for recently written entity start times for leveldb timeline store in number of entities. Defaults to 10000. </td>
    </tr>
    
<tr class="b">
      
<td align="left"><tt>yarn.timeline-service.recovery.enabled</tt> </td>
      
<td align="left">Defaults to false. </td>
    </tr>
    
<tr class="a">
      
<td align="left"><tt>yarn.timeline-service.state-store-class</tt> </td>
      
<td align="left">Store class name for timeline state store. Defaults to org.apache.hadoop.yarn.server.timeline.recovery.LeveldbTimelineStateStore. </td>
    </tr>
    
<tr class="b">
      
<td align="left"><tt>yarn.timeline-service.leveldb-state-store.path</tt> </td>
      
<td align="left">Store file name for leveldb timeline state store. </td>
    </tr>
  </tbody>
</table></div>
<div class="section">
<h4><a name="Web_and_RPC_Configuration"></a>Web and RPC Configuration</h4>

<table border="0" class="bodyTable">
  <thead>
    
<tr class="a">
      
<th align="left">Configuration Property </th>
      
<th align="left">Description </th>
    </tr>
  </thead>
  <tbody>
    
<tr class="b">
      
<td align="left"><tt>yarn.timeline-service.hostname</tt> </td>
      
<td align="left">The hostname of the Timeline service web application. Defaults to 0.0.0.0. </td>
    </tr>
    
<tr class="a">
      
<td align="left"><tt>yarn.timeline-service.address</tt> </td>
      
<td align="left">Address for the Timeline server to start the RPC server. Defaults to ${yarn.timeline-service.hostname}:10200. </td>
    </tr>
    
<tr class="b">
      
<td align="left"><tt>yarn.timeline-service.webapp.address</tt> </td>
      
<td align="left">The http address of the Timeline service web application. Defaults to ${yarn.timeline-service.hostname}:8188. </td>
    </tr>
    
<tr class="a">
      
<td align="left"><tt>yarn.timeline-service.webapp.https.address</tt> </td>
      
<td align="left">The https address of the Timeline service web application. Defaults to ${yarn.timeline-service.hostname}:8190. </td>
    </tr>
    
<tr class="b">
      
<td align="left"><tt>yarn.timeline-service.bind-host</tt> </td>
      
<td align="left">The actual address the server will bind to. If this optional address is set, the RPC and webapp servers will bind to this address and the port specified in yarn.timeline-service.address and yarn.timeline-service.webapp.address, respectively. This is most useful for making the service listen to all interfaces by setting to 0.0.0.0. </td>
    </tr>
    
<tr class="a">
      
<td align="left"><tt>yarn.timeline-service.http-cross-origin.enabled</tt> </td>
      
<td align="left">Enables cross-origin support (CORS) for web services where cross-origin web response headers are needed. For example, javascript making a web services request to the timeline server. Defaults to false. </td>
    </tr>
    
<tr class="b">
      
<td align="left"><tt>yarn.timeline-service.http-cross-origin.allowed-origins</tt> </td>
      
<td align="left">Comma separated list of origins that are allowed for web services needing cross-origin (CORS) support. Wildcards <tt>(*)</tt> and patterns allowed. Defaults to <tt>*</tt>. </td>
    </tr>
    
<tr class="a">
      
<td align="left">yarn.timeline-service.http-cross-origin.allowed-methods </td>
      
<td align="left">Comma separated list of methods that are allowed for web services needing cross-origin (CORS) support. Defaults to GET,POST,HEAD. </td>
    </tr>
    
<tr class="b">
      
<td align="left"><tt>yarn.timeline-service.http-cross-origin.allowed-headers</tt> </td>
      
<td align="left">Comma separated list of headers that are allowed for web services needing cross-origin (CORS) support. Defaults to X-Requested-With,Content-Type,Accept,Origin. </td>
    </tr>
    
<tr class="a">
      
<td align="left"><tt>yarn.timeline-service.http-cross-origin.max-age</tt> </td>
      
<td align="left">The number of seconds a pre-flighted request can be cached for web services needing cross-origin (CORS) support. Defaults to 1800. </td>
    </tr>
  </tbody>
</table></div>
<div class="section">
<h4><a name="Security_Configuration"></a>Security Configuration</h4>
<p>Security can be enabled by setting yarn.timeline-service.http-authentication.type to kerberos and further following configurations can be done.</p>

<table border="0" class="bodyTable">
  <thead>
    
<tr class="a">
      
<th align="left">Configuration Property </th>
      
<th align="left">Description </th>
    </tr>
  </thead>
  <tbody>
    
<tr class="b">
      
<td align="left"><tt>yarn.timeline-service.http-authentication.type</tt> </td>
      
<td align="left">Defines authentication used for the timeline server HTTP endpoint. Supported values are: simple / kerberos / #AUTHENTICATION_HANDLER_CLASSNAME#. Defaults to simple. </td>
    </tr>
    
<tr class="a">
      
<td align="left"><tt>yarn.timeline-service.http-authentication.simple.anonymous.allowed</tt> </td>
      
<td align="left">Indicates if anonymous requests are allowed by the timeline server when using &#x2018;simple&#x2019; authentication. Defaults to true. </td>
    </tr>
    
<tr class="b">
      
<td align="left"><tt>yarn.timeline-service.principal</tt> </td>
      
<td align="left">The Kerberos principal for the timeline server. </td>
    </tr>
    
<tr class="a">
      
<td align="left">yarn.timeline-service.keytab </td>
      
<td align="left">The Kerberos keytab for the timeline server. Defaults to /etc/krb5.keytab. </td>
    </tr>
    
<tr class="b">
      
<td align="left"><tt>yarn.timeline-service.delegation.key.update-interval</tt> </td>
      
<td align="left">Defaults to 86400000 (1 day). </td>
    </tr>
    
<tr class="a">
      
<td align="left"><tt>yarn.timeline-service.delegation.token.renew-interval</tt> </td>
      
<td align="left">Defaults to 86400000 (1 day). </td>
    </tr>
    
<tr class="b">
      
<td align="left"><tt>yarn.timeline-service.delegation.token.max-lifetime</tt> </td>
      
<td align="left">Defaults to 604800000 (7 day). </td>
    </tr>
  </tbody>
</table></div>
<div class="section">
<h4><a name="Enabling_the_timeline_service_and_the_generic_history_service"></a>Enabling the timeline service and the generic history service</h4>
<p>Following are the basic configuration to start Timeline server.</p>

<div class="source">
<div class="source">
<pre>&lt;property&gt;
  &lt;description&gt;Indicate to clients whether Timeline service is enabled or not.
  If enabled, the TimelineClient library used by end-users will post entities
  and events to the Timeline server.&lt;/description&gt;
  &lt;name&gt;yarn.timeline-service.enabled&lt;/name&gt;
  &lt;value&gt;true&lt;/value&gt;
&lt;/property&gt;

&lt;property&gt;
  &lt;description&gt;The setting that controls whether yarn system metrics is
  published on the timeline server or not by RM.&lt;/description&gt;
  &lt;name&gt;yarn.resourcemanager.system-metrics-publisher.enabled&lt;/name&gt;
  &lt;value&gt;true&lt;/value&gt;
&lt;/property&gt;

&lt;property&gt;
  &lt;description&gt;Indicate to clients whether to query generic application
  data from timeline history-service or not. If not enabled then application
  data is queried only from Resource Manager.&lt;/description&gt;
  &lt;name&gt;yarn.timeline-service.generic-application-history.enabled&lt;/name&gt;
  &lt;value&gt;true&lt;/value&gt;
&lt;/property&gt;
</pre></div></div></div></div>
<div class="section">
<h3><a name="Running_Timeline_server"></a>Running Timeline server</h3>
<p>Assuming all the aforementioned configurations are set properly, admins can start the Timeline server/history service with the following command:</p>

<div class="source">
<div class="source">
<pre>  $ yarn timelineserver
</pre></div></div>
<p>Or users can start the Timeline server / history service as a daemon:</p>

<div class="source">
<div class="source">
<pre>  $ $HADOOP_YARN_HOME/sbin/yarn-daemon.sh start timelineserver
</pre></div></div></div>
<div class="section">
<h3><a name="Accessing_generic-data_via_command-line"></a>Accessing generic-data via command-line</h3>
<p>Users can access applications&#x2019; generic historic data via the command line as below. Note that the same commands are usable to obtain the corresponding information about running applications.</p>

<div class="source">
<div class="source">
<pre>  $ yarn application -status &lt;Application ID&gt;
  $ yarn applicationattempt -list &lt;Application ID&gt;
  $ yarn applicationattempt -status &lt;Application Attempt ID&gt;
  $ yarn container -list &lt;Application Attempt ID&gt;
  $ yarn container -status &lt;Container ID&gt;
</pre></div></div></div></div>
<div class="section">
<h2><a name="Publishing_of_application_specific_data"></a>Publishing of application specific data</h2>
<p>Developers can define what information they want to record for their applications by composing <tt>TimelineEntity</tt> and <tt>TimelineEvent</tt> objects, and put the entities and events to the Timeline server via <tt>TimelineClient</tt>. Below is an example:</p>

<div class="source">
<div class="source">
<pre>  // Create and start the Timeline client
  TimelineClient client = TimelineClient.createTimelineClient();
  client.init(conf);
  client.start();

  try {
    TimelineDomain myDomain = new TimelineDomain();
    myDomain.setID(&quot;MyDomain&quot;);
    // Compose other Domain info ....

    client.putDomain(myDomain);

    TimelineEntity myEntity = new TimelineEntity();
    myEntity.setDomainId(myDomain.getId());
    myEntity.setEntityType(&quot;APPLICATION&quot;);
    myEntity.setEntityID(&quot;MyApp1&quot;)
    // Compose other entity info

    TimelinePutResponse response = client.putEntities(entity);

    
    TimelineEvent event = new TimelineEvent();
    event.setEventType(&quot;APP_FINISHED&quot;);
    event.setTimestamp(System.currentTimeMillis());
    event.addEventInfo(&quot;Exit Status&quot;, &quot;SUCCESS&quot;);
    // Compose other Event info ....

    myEntity.addEvent(event);
    timelineClient.putEntities(entity);

  } catch (IOException e) {
    // Handle the exception
  } catch (YarnException e) {
    // Handle the exception
  }

  // Stop the Timeline client
  client.stop();
</pre></div></div>
<p><b>Note</b> : Following are the points which needs to be observed during updating a entity.</p>

<ul>
  
<li>
<p>Domain ID should not be modified for already existing entity.</p></li>
  
<li>
<p>Its advisable to have same primary filters for all updates on entity. As on modification of primary filter by subsequent updates will result in not fetching the information before the update when queried with updated primary filter.</p></li>
  
<li>
<p>On modification of Primary filter value, new value will be appended with the old value.</p></li>
</ul></div>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">&#169;            2015
              Apache Software Foundation
            
                       - <a href="https://maven.apache.org/privacy-policy.html">Privacy Policy</a></div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
